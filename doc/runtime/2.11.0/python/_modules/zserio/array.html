<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>zserio.array &#8212; Zserio 2.11.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for zserio.array</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">The module implements abstraction for arrays used by Zserio python extension.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">typing</span>

<span class="kn">from</span> <span class="nn">zserio.bitposition</span> <span class="kn">import</span> <span class="n">alignto</span>
<span class="kn">from</span> <span class="nn">zserio.bitsizeof</span> <span class="kn">import</span> <span class="p">(</span><span class="n">bitsizeof_varuint16</span><span class="p">,</span> <span class="n">bitsizeof_varuint32</span><span class="p">,</span> <span class="n">bitsizeof_varuint64</span><span class="p">,</span> <span class="n">bitsizeof_varuint</span><span class="p">,</span>
                              <span class="n">bitsizeof_varint16</span><span class="p">,</span> <span class="n">bitsizeof_varint32</span><span class="p">,</span> <span class="n">bitsizeof_varint64</span><span class="p">,</span> <span class="n">bitsizeof_varint</span><span class="p">,</span>
                              <span class="n">bitsizeof_varsize</span><span class="p">,</span> <span class="n">bitsizeof_bytes</span><span class="p">,</span> <span class="n">bitsizeof_string</span><span class="p">,</span> <span class="n">bitsizeof_bitbuffer</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">zserio.bitreader</span> <span class="kn">import</span> <span class="n">BitStreamReader</span>
<span class="kn">from</span> <span class="nn">zserio.bitwriter</span> <span class="kn">import</span> <span class="n">BitStreamWriter</span>
<span class="kn">from</span> <span class="nn">zserio.bitbuffer</span> <span class="kn">import</span> <span class="n">BitBuffer</span>
<span class="kn">from</span> <span class="nn">zserio.hashcode</span> <span class="kn">import</span> <span class="p">(</span><span class="n">HASH_SEED</span><span class="p">,</span> <span class="n">calc_hashcode_bool_array</span><span class="p">,</span> <span class="n">calc_hashcode_int_array</span><span class="p">,</span>
                             <span class="n">calc_hashcode_float32_array</span><span class="p">,</span> <span class="n">calc_hashcode_float64_array</span><span class="p">,</span>
                             <span class="n">calc_hashcode_bytes_array</span><span class="p">,</span> <span class="n">calc_hashcode_string_array</span><span class="p">,</span> <span class="n">calc_hashcode_object_array</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">zserio.exception</span> <span class="kn">import</span> <span class="n">PythonRuntimeException</span>

<div class="viewcode-block" id="Array"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array">[docs]</a><span class="k">class</span> <span class="nc">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstraction for arrays to which Zserio arrays are mapped in python.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
                 <span class="n">raw_array</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="o">*</span><span class="p">,</span>
                 <span class="n">is_auto</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">is_implicit</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">set_offset_method</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">check_offset_method</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor.</span>

<span class="sd">        :param array_traits: Array traits which specify the array type.</span>
<span class="sd">        :param raw_array: Native python list which will be hold by this abstraction.</span>
<span class="sd">        :param is_auto: True if mapped Zserio array is auto array.</span>
<span class="sd">        :param is_implicit: True if mapped Zserio array is implicit array.</span>
<span class="sd">        :param set_offset_method:  Set offset method if mapped Zserio array is indexed offset array.</span>
<span class="sd">        :param check_offset_method: Check offset method if mapped Zserio array is indexed offset array.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">raw_array</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">raw_array</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">array_traits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span> <span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">array_traits</span><span class="o">.</span><span class="n">packed_traits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">is_auto</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_implicit</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">is_implicit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_offset_method</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="n">set_offset_method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="n">check_offset_method</span>

<div class="viewcode-block" id="Array.from_reader"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.from_reader">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_reader</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="s1">&#39;Array&#39;</span><span class="p">],</span>
                    <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
                    <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">,</span>
                    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="o">*</span><span class="p">,</span>
                    <span class="n">is_auto</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">is_implicit</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">set_offset_method</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">check_offset_method</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Array&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs array and reads elements from the given bit stream reader.</span>

<span class="sd">        :param array_traits: Array traits which specify the array type.</span>
<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :param size: Number of elements to read or None in case of implicit or auto arrays.</span>
<span class="sd">        :param raw_array: Native python list which will be hold by this abstraction.</span>
<span class="sd">        :param is_auto: True if mapped Zserio array is auto array.</span>
<span class="sd">        :param is_implicit: True if mapped Zserio array is implicit array.</span>
<span class="sd">        :param set_offset_method:  Set offset method if mapped Zserio array is indexed offset array.</span>
<span class="sd">        :param check_offset_method: Check offset method if mapped Zserio array is indexed offset array.</span>
<span class="sd">        :returns: Array instance filled using given bit stream reader.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">is_auto</span><span class="o">=</span><span class="n">is_auto</span><span class="p">,</span> <span class="n">is_implicit</span><span class="o">=</span><span class="n">is_implicit</span><span class="p">,</span>
                       <span class="n">set_offset_method</span><span class="o">=</span><span class="n">set_offset_method</span><span class="p">,</span> <span class="n">check_offset_method</span><span class="o">=</span><span class="n">check_offset_method</span><span class="p">)</span>
        <span class="n">instance</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">instance</span></div>

<div class="viewcode-block" id="Array.from_reader_packed"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.from_reader_packed">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_reader_packed</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="s1">&#39;Array&#39;</span><span class="p">],</span>
            <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
            <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">,</span>
            <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="o">*</span><span class="p">,</span>
            <span class="n">is_auto</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">set_offset_method</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">check_offset_method</span><span class="p">:</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Array&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs packed array and reads elements from the given bit stream reader.</span>

<span class="sd">        :param array_traits: Array traits which specify the array type.</span>
<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :param size: Number of elements to read or None in case of implicit or auto arrays.</span>
<span class="sd">        :param raw_array: Native python list which will be hold by this abstraction.</span>
<span class="sd">        :param is_auto: True if mapped Zserio array is auto array.</span>
<span class="sd">        :param set_offset_method:  Set offset method if mapped Zserio array is indexed offset array.</span>
<span class="sd">        :param check_offset_method: Check offset method if mapped Zserio array is indexed offset array.</span>
<span class="sd">        :returns: Array instance filled using given bit stream reader.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">is_auto</span><span class="o">=</span><span class="n">is_auto</span><span class="p">,</span> <span class="n">is_implicit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">set_offset_method</span><span class="o">=</span><span class="n">set_offset_method</span><span class="p">,</span>
                       <span class="n">check_offset_method</span><span class="o">=</span><span class="n">check_offset_method</span><span class="p">)</span>
        <span class="n">instance</span><span class="o">.</span><span class="n">read_packed</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">instance</span></div>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># it&#39;s enough to check only raw_array because compound types which call this are always the same type</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Array</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">_raw_array</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">CALC_HASHCODE_FUNC</span><span class="p">(</span><span class="n">HASH_SEED</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">raw_array</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets raw array.</span>

<span class="sd">        :returns: Native python list which is hold by the array.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span>

<div class="viewcode-block" id="Array.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.bitsizeof">[docs]</a>    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of array stored in the bit stream in bits.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :returns: Length of the array stored in the bit stream in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">bitposition</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span>
            <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">bitsizeof_varsize</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="ow">and</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">element_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_offset_method</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">size</span> <span class="o">*</span> <span class="n">element_size</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">)</span>
                <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">element_size</span> <span class="o">+</span> <span class="p">(</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">element_size</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">array_traits_bitsizeof</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">bitsizeof</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_offset_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">NEEDS_BITSIZEOF_POSITION</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                        <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">)</span>
                        <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">array_traits_bitsizeof</span><span class="p">(</span><span class="n">end_bitposition</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                        <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">)</span>
                        <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">array_traits_bitsizeof</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">NEEDS_BITSIZEOF_POSITION</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                        <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">array_traits_bitsizeof</span><span class="p">(</span><span class="n">end_bitposition</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                        <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">array_traits_bitsizeof</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">end_bitposition</span> <span class="o">-</span> <span class="n">bitposition</span></div>

<div class="viewcode-block" id="Array.bitsizeof_packed"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.bitsizeof_packed">[docs]</a>    <span class="k">def</span> <span class="nf">bitsizeof_packed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of the packed array stored in the bit stream in bits.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :returns: Length of the array stored in the bit stream in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">bitposition</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span>
            <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">bitsizeof_varsize</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">context_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">create_context</span><span class="p">()</span>
            <span class="n">packed_array_traits_init_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">init_context</span>
            <span class="n">packed_array_traits_bitsizeof</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">bitsizeof</span>

            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                <span class="n">packed_array_traits_init_context</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_offset_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                    <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">)</span>
                    <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">packed_array_traits_bitsizeof</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                    <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">packed_array_traits_bitsizeof</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>


        <span class="k">return</span> <span class="n">end_bitposition</span> <span class="o">-</span> <span class="n">bitposition</span></div>

<div class="viewcode-block" id="Array.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.initialize_offsets">[docs]</a>    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for the array.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after the array.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">bitposition</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span>
            <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">bitsizeof_varsize</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>

        <span class="n">array_traits_initialize_offsets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">initialize_offsets</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_offset_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">set_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_offset_method</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
                <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">)</span>
                <span class="n">set_offset</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">)</span>
                <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">array_traits_initialize_offsets</span><span class="p">(</span><span class="n">end_bitposition</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">array_traits_initialize_offsets</span><span class="p">(</span><span class="n">end_bitposition</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">end_bitposition</span></div>

<div class="viewcode-block" id="Array.initialize_offsets_packed"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.initialize_offsets_packed">[docs]</a>    <span class="k">def</span> <span class="nf">initialize_offsets_packed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for the packed array.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after the array.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">bitposition</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span>
            <span class="n">end_bitposition</span> <span class="o">+=</span> <span class="n">bitsizeof_varsize</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">context_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">create_context</span><span class="p">()</span>
            <span class="n">packed_array_traits_init_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">init_context</span>
            <span class="n">packed_array_traits_initialize_offsets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">initialize_offsets</span>

            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                <span class="n">packed_array_traits_init_context</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_offset_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">set_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_offset_method</span>
                <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
                    <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">)</span>
                    <span class="n">set_offset</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">)</span>
                    <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">packed_array_traits_initialize_offsets</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">,</span>
                                                                             <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                    <span class="n">end_bitposition</span> <span class="o">=</span> <span class="n">packed_array_traits_initialize_offsets</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">end_bitposition</span><span class="p">,</span>
                                                                             <span class="n">element</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">end_bitposition</span></div>

<div class="viewcode-block" id="Array.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.read">[docs]</a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads array from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :param size: Number of elements to read or None in case of implicit or auto arrays.</span>

<span class="sd">        :raises PythonRuntimeException: If the implicit array does not have elements with constant bit size.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="n">append</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="o">.</span><span class="n">append</span>
        <span class="n">array_traits_read</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">read</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_implicit</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">HAS_BITSIZEOF_CONSTANT</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">PythonRuntimeException</span><span class="p">(</span><span class="s2">&quot;Array: Implicit array elements must have constant bit size!&quot;</span><span class="p">)</span>

            <span class="n">element_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span>
            <span class="n">remaining_bits</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">buffer_bitsize</span> <span class="o">-</span> <span class="n">reader</span><span class="o">.</span><span class="n">bitposition</span>
            <span class="n">read_size</span> <span class="o">=</span> <span class="n">remaining_bits</span> <span class="o">//</span> <span class="n">element_size</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">read_size</span><span class="p">):</span>
                <span class="c1"># we know that no traits NEEDS_READ_INDEX here</span>
                <span class="n">append</span><span class="p">(</span><span class="n">array_traits_read</span><span class="p">(</span><span class="n">reader</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span>
                <span class="n">read_size</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varsize</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">read_size</span> <span class="o">=</span> <span class="n">size</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">check_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span>
                <span class="n">reader_alignto</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">alignto</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">NEEDS_READ_INDEX</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">read_size</span><span class="p">):</span>
                        <span class="n">reader_alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
                        <span class="n">check_offset</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">reader</span><span class="o">.</span><span class="n">bitposition</span><span class="p">)</span>
                        <span class="n">append</span><span class="p">(</span><span class="n">array_traits_read</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">read_size</span><span class="p">):</span>
                        <span class="n">reader_alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
                        <span class="n">check_offset</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">reader</span><span class="o">.</span><span class="n">bitposition</span><span class="p">)</span>
                        <span class="n">append</span><span class="p">(</span><span class="n">array_traits_read</span><span class="p">(</span><span class="n">reader</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">NEEDS_READ_INDEX</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">read_size</span><span class="p">):</span>
                        <span class="n">append</span><span class="p">(</span><span class="n">array_traits_read</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">read_size</span><span class="p">):</span>
                        <span class="n">append</span><span class="p">(</span><span class="n">array_traits_read</span><span class="p">(</span><span class="n">reader</span><span class="p">))</span></div>

<div class="viewcode-block" id="Array.read_packed"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.read_packed">[docs]</a>    <span class="k">def</span> <span class="nf">read_packed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads packed array from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :param size: Number of elements to read or 0 in case of auto arrays.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_implicit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PythonRuntimeException</span><span class="p">(</span><span class="s2">&quot;Array: Implicit array cannot be packed!&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span>
            <span class="n">read_size</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varsize</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">read_size</span> <span class="o">=</span> <span class="n">size</span>

        <span class="k">if</span> <span class="n">read_size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">context_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">create_context</span><span class="p">()</span>

            <span class="n">append</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="o">.</span><span class="n">append</span>
            <span class="n">packed_array_traits_read</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">read</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">check_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span>
                <span class="n">reader_alignto</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">alignto</span>
                <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">read_size</span><span class="p">):</span>
                    <span class="n">reader_alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
                    <span class="n">check_offset</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">reader</span><span class="o">.</span><span class="n">bitposition</span><span class="p">)</span>
                    <span class="n">append</span><span class="p">(</span><span class="n">packed_array_traits_read</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">reader</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">read_size</span><span class="p">):</span>
                    <span class="n">append</span><span class="p">(</span><span class="n">packed_array_traits_read</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">reader</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span></div>

<div class="viewcode-block" id="Array.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.write">[docs]</a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes array to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">write_varsize</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>

        <span class="n">array_traits_write</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="o">.</span><span class="n">write</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">check_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span>
            <span class="n">writer_alignto</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">alignto</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
                <span class="n">writer_alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
                <span class="n">check_offset</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">writer</span><span class="o">.</span><span class="n">bitposition</span><span class="p">)</span>
                <span class="n">array_traits_write</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                <span class="n">array_traits_write</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span></div>

<div class="viewcode-block" id="Array.write_packed"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Array.write_packed">[docs]</a>    <span class="k">def</span> <span class="nf">write_packed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes packed array to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_auto</span><span class="p">:</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">write_varsize</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">context_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">create_context</span><span class="p">()</span>
            <span class="n">packed_array_traits_init_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">init_context</span>
            <span class="n">packed_array_traits_write</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_array_traits</span><span class="o">.</span><span class="n">write</span>

            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                <span class="n">packed_array_traits_init_context</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">check_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_offset_method</span>
                <span class="n">writer_alignto</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">alignto</span>
                <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
                    <span class="n">writer_alignto</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
                    <span class="n">check_offset</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">writer</span><span class="o">.</span><span class="n">bitposition</span><span class="p">)</span>
                    <span class="n">packed_array_traits_write</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raw_array</span><span class="p">:</span>
                    <span class="n">packed_array_traits_write</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="DeltaContext"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.DeltaContext">[docs]</a><span class="k">class</span> <span class="nc">DeltaContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Context for delta packing created for each packable field.</span>

<span class="sd">    Contexts are always newly created for each array operation (bitsizeof, initialize_offsets, read, write).</span>
<span class="sd">    They must be initialized at first via calling the init method for each packable element present in the</span>
<span class="sd">    array. After the full initialization, only a single method (bitsizeof, read, write) can be repeatedly</span>
<span class="sd">    called for exactly the same sequence of packable elements.</span>

<span class="sd">    Example::</span>

<span class="sd">        context = DeltaContext(array_traits)</span>
<span class="sd">        for element in array:</span>
<span class="sd">            context.init(element) # initialization step, needed for max_bit_number calculation</span>
<span class="sd">        context.write_descriptor(writer) # finishes the initialization</span>
<span class="sd">        for element in array:</span>
<span class="sd">            context.write(writer, element)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Constructor. &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processing_started</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unpacked_bitsize</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_first_element_bitsize</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_num_elements</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="DeltaContext.init"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.DeltaContext.init">[docs]</a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes initialization step for the provided array element.</span>

<span class="sd">        :param array_traits: Standard array traits.</span>
<span class="sd">        :param element: Current element of the array.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_num_elements</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unpacked_bitsize</span> <span class="o">+=</span> <span class="n">DeltaContext</span><span class="o">.</span><span class="n">_bitsizeof_unpacked</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="o">=</span> <span class="n">element</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_first_element_bitsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unpacked_bitsize</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_BIT_NUMBER_LIMIT</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="n">delta</span> <span class="o">=</span> <span class="n">element</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span>
                <span class="n">max_bit_number</span> <span class="o">=</span> <span class="n">delta</span><span class="o">.</span><span class="n">bit_length</span><span class="p">()</span>
                <span class="c1"># if delta is negative, we need one bit more because of sign</span>
                <span class="c1"># if delta is positive, we need one bit more because delta are treated as signed number</span>
                <span class="c1"># if delta is zero, we need one bit more because bit_length() returned zero</span>
                <span class="k">if</span> <span class="n">max_bit_number</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">=</span> <span class="n">max_bit_number</span>
                    <span class="k">if</span> <span class="n">max_bit_number</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_BIT_NUMBER_LIMIT</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="o">=</span> <span class="n">element</span></div>

<div class="viewcode-block" id="DeltaContext.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.DeltaContext.bitsizeof">[docs]</a>    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of the element representation stored in the bit stream in bits.</span>

<span class="sd">        :param array_traits: Standard integral array traits.</span>
<span class="sd">        :param element: Current element.</span>

<span class="sd">        :returns: Length of the element representation stored in the bit stream in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processing_started</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_processing_started</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_finish_init</span><span class="p">()</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bitsizeof_descriptor</span><span class="p">()</span> <span class="o">+</span> <span class="n">DeltaContext</span><span class="o">.</span><span class="n">_bitsizeof_unpacked</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">DeltaContext</span><span class="o">.</span><span class="n">_bitsizeof_unpacked</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="DeltaContext.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.DeltaContext.read">[docs]</a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads the packed element from the bit stream.</span>

<span class="sd">        :param array_traits: Standard array traits.</span>
<span class="sd">        :param reader: Bit stream reader.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processing_started</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_processing_started</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_read_descriptor</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_unpacked</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_unpacked</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">delta</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_signed_bits_unchecked</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="o">+=</span> <span class="n">delta</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span></div>

<div class="viewcode-block" id="DeltaContext.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.DeltaContext.write">[docs]</a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes the packed element representation to the bit stream.</span>

<span class="sd">        :param array_traits: Standard array traits.</span>
<span class="sd">        :param writer: Bit stream writer.</span>
<span class="sd">        :param element: Element to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processing_started</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_processing_started</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_finish_init</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_descriptor</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_write_unpacked</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_unpacked</span><span class="p">(</span><span class="n">array_traits</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># packed and not first</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">delta</span> <span class="o">=</span> <span class="n">element</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">write_signed_bits_unchecked</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="o">=</span> <span class="n">element</span></div>

    <span class="k">def</span> <span class="nf">_finish_init</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span><span class="p">:</span>
            <span class="n">delta_bitsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="n">packed_bitsize_with_descriptor</span> <span class="o">=</span> <span class="p">(</span>
                <span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_BIT_NUMBER_BITS</span> <span class="o">+</span> <span class="c1"># descriptor</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_first_element_bitsize</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_num_elements</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">delta_bitsize</span>
            <span class="p">)</span>
            <span class="n">unpacked_bitsize_with_descriptor</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unpacked_bitsize</span>
            <span class="k">if</span> <span class="n">packed_bitsize_with_descriptor</span> <span class="o">&gt;=</span> <span class="n">unpacked_bitsize_with_descriptor</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_bitsizeof_descriptor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_BIT_NUMBER_BITS</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_bitsizeof_unpacked</span><span class="p">(</span><span class="n">array_traits</span> <span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">element</span> <span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">array_traits</span><span class="o">.</span><span class="n">HAS_BITSIZEOF_CONSTANT</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">array_traits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># we know that NEEDS_BITSIZEOF_POSITION is False here</span>
            <span class="k">return</span> <span class="n">array_traits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_descriptor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_bool</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_bits_unchecked</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_MAX_BIT_NUMBER_BITS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_unpacked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">array_traits</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="o">=</span> <span class="n">element</span>
        <span class="k">return</span> <span class="n">element</span>

    <span class="k">def</span> <span class="nf">_write_descriptor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">write_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_packed</span><span class="p">:</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">write_bits_unchecked</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_max_bit_number</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MAX_BIT_NUMBER_BITS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_write_unpacked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_element</span> <span class="o">=</span> <span class="n">element</span>
        <span class="n">array_traits</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>

    <span class="n">_MAX_BIT_NUMBER_BITS</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">_MAX_BIT_NUMBER_LIMIT</span> <span class="o">=</span> <span class="mi">62</span></div>

<div class="viewcode-block" id="PackingContextNode"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackingContextNode">[docs]</a><span class="k">class</span> <span class="nc">PackingContextNode</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Packing context node which allows to keep packing contexts in a tree which corresponds with</span>
<span class="sd">    the user defined Zserio tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor.</span>

<span class="sd">        :param children: Child context nodes.</span>
<span class="sd">        :param context: Packing context in case of leaf node.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_children</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="s1">&#39;PackingContextNode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">DeltaContext</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="PackingContextNode.create_child"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackingContextNode.create_child">[docs]</a>    <span class="k">def</span> <span class="nf">create_child</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;PackingContextNode&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new child.</span>

<span class="sd">        :returns: The child which was just created.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PackingContextNode</span><span class="p">())</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_children</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">children</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="s1">&#39;PackingContextNode&#39;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets children of the current node.</span>

<span class="sd">        :returns: Child context nodes.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_children</span>

<div class="viewcode-block" id="PackingContextNode.create_context"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackingContextNode.create_context">[docs]</a>    <span class="k">def</span> <span class="nf">create_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new packing context within the current node.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">DeltaContext</span><span class="p">()</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeltaContext</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packing context for leaf nodes.</span>

<span class="sd">        :returns: Packing context for leafs, None otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context</span>

<div class="viewcode-block" id="PackingContextNode.get_child_context"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackingContextNode.get_child_context">[docs]</a>    <span class="k">def</span> <span class="nf">get_child_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span> <span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeltaContext</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packing context for leaf child nodes.</span>

<span class="sd">        :param index: Child context node index.</span>
<span class="sd">        :returns: Packing context.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">child_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_children</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">_context</span>
        <span class="k">assert</span> <span class="n">child_context</span>
        <span class="k">return</span> <span class="n">child_context</span></div></div>

<div class="viewcode-block" id="PackedArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackedArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">PackedArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Packed array traits.</span>

<span class="sd">    Packed array traits are used for all built-in types.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array_traits</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor.</span>

<span class="sd">        :param array_traits: Standard array traits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span> <span class="o">=</span> <span class="n">array_traits</span>

<div class="viewcode-block" id="PackedArrayTraits.create_context"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackedArrayTraits.create_context">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_context</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">PackingContextNode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates packing context.</span>

<span class="sd">        :returns: List of packing contexts.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">packing_context_node</span> <span class="o">=</span> <span class="n">PackingContextNode</span><span class="p">()</span>
        <span class="n">packing_context_node</span><span class="o">.</span><span class="n">create_context</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">packing_context_node</span></div>

<div class="viewcode-block" id="PackedArrayTraits.init_context"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackedArrayTraits.init_context">[docs]</a>    <span class="k">def</span> <span class="nf">init_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls context initialization step for the current element.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param element: Current element.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">context</span> <span class="o">=</span> <span class="n">context_node</span><span class="o">.</span><span class="n">context</span>
        <span class="n">context</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span></div>

<div class="viewcode-block" id="PackedArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackedArrayTraits.bitsizeof">[docs]</a>    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">_bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of the array element stored in the bit stream in bits.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param _bitposition: Current bit stream position (not used).</span>
<span class="sd">        :param elemnet: Current element.</span>
<span class="sd">        :returns: Length of the array element stored in the bit stream in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">context</span> <span class="o">=</span> <span class="n">context_node</span><span class="o">.</span><span class="n">context</span>
        <span class="k">return</span> <span class="n">context</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span></div>

<div class="viewcode-block" id="PackedArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackedArrayTraits.initialize_offsets">[docs]</a>    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls indexed offsets initialization for the current element.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param _bitposition: Current bit stream position.</span>
<span class="sd">        :param element: Current element.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after this element.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">context</span> <span class="o">=</span> <span class="n">context_node</span><span class="o">.</span><span class="n">context</span>
        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">context</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span></div>

<div class="viewcode-block" id="PackedArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackedArrayTraits.write">[docs]</a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes the element to the bit stream.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param writer: Bit stream writer.</span>
<span class="sd">        :param element: Element to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">context</span> <span class="o">=</span> <span class="n">context_node</span><span class="o">.</span><span class="n">context</span>
        <span class="n">context</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span></div>

<div class="viewcode-block" id="PackedArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.PackedArrayTraits.read">[docs]</a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">,</span> <span class="n">_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read an element from the bit stream.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param reader: Bit stream reader.</span>
<span class="sd">        :param _index: Not used.</span>
<span class="sd">        :returns: Read element value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">context</span> <span class="o">=</span> <span class="n">context_node</span><span class="o">.</span><span class="n">context</span>
        <span class="k">return</span> <span class="n">context</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_array_traits</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="ObjectPackedArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectPackedArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">ObjectPackedArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Packed array traits for Zserio objects.</span>

<span class="sd">    This traits are used for Zserio objects which must implement special *_packed* methods to allow itself</span>
<span class="sd">    to be used in a packed array.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">packed_object_creator</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">BitStreamReader</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
                                                              <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
                 <span class="n">packing_context_creator</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">PackingContextNode</span><span class="p">],</span> <span class="kc">None</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor.</span>

<span class="sd">        :param packed_object_creator: Creator which creates packed object from the element index.</span>
<span class="sd">        :param packing_context_creator: Creator which creates contexts for object packing.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_packed_object_creator</span> <span class="o">=</span> <span class="n">packed_object_creator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_packing_context_creator</span> <span class="o">=</span> <span class="n">packing_context_creator</span>

<div class="viewcode-block" id="ObjectPackedArrayTraits.create_context"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectPackedArrayTraits.create_context">[docs]</a>    <span class="k">def</span> <span class="nf">create_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackingContextNode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates packing context.</span>

<span class="sd">        :returns: List of delta packing contexts.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">packing_context_node</span> <span class="o">=</span> <span class="n">PackingContextNode</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_packing_context_creator</span><span class="p">(</span><span class="n">packing_context_node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">packing_context_node</span></div>

<div class="viewcode-block" id="ObjectPackedArrayTraits.init_context"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectPackedArrayTraits.init_context">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">init_context</span><span class="p">(</span><span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls context initialization step for the current element.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param element: Current element.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">element</span><span class="o">.</span><span class="n">init_packing_context</span><span class="p">(</span><span class="n">context_node</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObjectPackedArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectPackedArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of the array element stored in the bit stream in bits.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param elemnet: Current element.</span>
<span class="sd">        :returns: Length of the array element stored in the bit stream in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">bitsizeof_packed</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObjectPackedArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectPackedArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span>
                           <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls indexed offsets initialization for the current element.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param element: Current element.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after this element.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">initialize_offsets_packed</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObjectPackedArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectPackedArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes the element to the bit stream.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param writer: Bit stream writer.</span>
<span class="sd">        :param element: Element to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">element</span><span class="o">.</span><span class="n">write_packed</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObjectPackedArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectPackedArrayTraits.read">[docs]</a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_node</span><span class="p">:</span> <span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read an element from the bit stream.</span>

<span class="sd">        :param context_node: Packing context node.</span>
<span class="sd">        :param reader: Bit stream reader.</span>
<span class="sd">        :param index: Index of the current element.</span>
<span class="sd">        :returns: Read element value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_object_creator</span><span class="p">(</span><span class="n">context_node</span><span class="p">,</span> <span class="n">reader</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="BitFieldArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitFieldArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">BitFieldArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for unsigned fixed integer Zserio types (uint16, uint32, uint64, bit:5, etc...).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numbits</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor.</span>

<span class="sd">        :param numbits: Number of bits for unsigned fixed integer Zserio type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_numbits</span> <span class="o">=</span> <span class="n">numbits</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="BitFieldArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitFieldArrayTraits.bitsizeof">[docs]</a>    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of unsigned fixed integer Zserio type stored in the bit stream in bits.</span>

<span class="sd">        :returns: Length of unsigned fixed integer Zserio type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_numbits</span></div>

<div class="viewcode-block" id="BitFieldArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitFieldArrayTraits.initialize_offsets">[docs]</a>    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">_value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for unsigned fixed integer Zserio type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param _value: Not used.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after unsigned fixed integer type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span></div>

<div class="viewcode-block" id="BitFieldArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitFieldArrayTraits.read">[docs]</a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads unsigned fixed integer Zserio type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read unsigned int value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_bits</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_numbits</span><span class="p">)</span></div>

<div class="viewcode-block" id="BitFieldArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitFieldArrayTraits.write">[docs]</a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes unsigned fixed integer Zserio type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Unsigned fixed integer Zserio type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_bits</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_numbits</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="SignedBitFieldArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.SignedBitFieldArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">SignedBitFieldArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for signed fixed integer Zserio types (int16, int32, int64, int:5, etc...).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numbits</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor.</span>

<span class="sd">        :param numbits: Number of bits for signed fixed integer Zserio type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_numbits</span> <span class="o">=</span> <span class="n">numbits</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="SignedBitFieldArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.SignedBitFieldArrayTraits.bitsizeof">[docs]</a>    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of signed fixed integer Zserio type stored in the bit stream in bits.</span>

<span class="sd">        :returns: Length of signed fixed integer Zserio type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_numbits</span></div>

<div class="viewcode-block" id="SignedBitFieldArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.SignedBitFieldArrayTraits.initialize_offsets">[docs]</a>    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">_value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for signed fixed integer Zserio type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param _value: Not used.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after signed fixed integer type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span></div>

<div class="viewcode-block" id="SignedBitFieldArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.SignedBitFieldArrayTraits.read">[docs]</a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads signed fixed integer Zserio type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read signed int value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_signed_bits</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_numbits</span><span class="p">)</span></div>

<div class="viewcode-block" id="SignedBitFieldArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.SignedBitFieldArrayTraits.write">[docs]</a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes signed fixed integer Zserio type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Signed fixed integer Zserio type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_signed_bits</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_numbits</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarUInt16ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt16ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarUInt16ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varuint16 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarUInt16ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt16ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varuint16 type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varuint16 type value.</span>
<span class="sd">        :returns: Length of given Zserio varuint16 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varuint16</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarUInt16ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt16ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varuint16 type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio varuint16 type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varuint16 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarUInt16ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarUInt16ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt16ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varuint16 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varuint16</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarUInt16ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt16ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varuint16 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varuint16 type to write.</span>
<span class="sd">        :returns: Read varuint16 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varuint16</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarUInt32ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt32ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarUInt32ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varuint32 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarUInt32ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt32ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varuint32 type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varuint32 type value.</span>
<span class="sd">        :returns: Length of given Zserio varuint32 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varuint32</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarUInt32ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt32ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varuint32 type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio varuint32 type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varuint32 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarUInt32ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarUInt32ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt32ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varuint32 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read varuint32 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varuint32</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarUInt32ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt32ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varuint32 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varuint32 type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varuint32</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarUInt64ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt64ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarUInt64ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varuint64 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarUInt64ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt64ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varuint64 type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varuint64 type value.</span>
<span class="sd">        :returns: Length of given Zserio varuint64 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varuint64</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarUInt64ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt64ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varuint64 type.</span>

<span class="sd">        :param value: Zserio varuint64 type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varuint64 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarUInt64ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarUInt64ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt64ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varuint64 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read varuint64 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varuint64</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarUInt64ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUInt64ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varuint64 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varuint64 type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varuint64</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarUIntArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUIntArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarUIntArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varuint type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarUIntArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUIntArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varuint type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varuint type value.</span>
<span class="sd">        :returns: Length of given Zserio varuint type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varuint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarUIntArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUIntArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varuint type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio varuint type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varuint type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarUIntArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarUIntArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUIntArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varuint type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read varuint value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varuint</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarUIntArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarUIntArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varuint type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varuint type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varuint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarSizeArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarSizeArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarSizeArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varsize type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarSizeArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarSizeArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varsize type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varsize type value.</span>
<span class="sd">        :returns: Length of given Zserio varsize type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varsize</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarSizeArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarSizeArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varsize type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio varsize type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varsize type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarSizeArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarSizeArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarSizeArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varsize type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read varsize value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varsize</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarSizeArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarSizeArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varsize type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varsize type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varsize</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarInt16ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt16ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarInt16ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varint16 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarInt16ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt16ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varint16 type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varint16 type value.</span>
<span class="sd">        :returns: Length of given Zserio varint16 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varint16</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarInt16ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt16ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varint16 type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio varint16 type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varint16 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarInt16ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarInt16ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt16ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varint16 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read varint16 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varint16</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarInt16ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt16ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varint16 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varint16 type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varint16</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarInt32ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt32ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarInt32ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varint32 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarInt32ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt32ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varint32 type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varint32 type value.</span>
<span class="sd">        :returns: Length of given Zserio varint32 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varint32</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarInt32ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt32ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varint32 type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio varint32 type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varint32 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarInt32ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarInt32ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt32ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varint32 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read varint32 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varint32</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarInt32ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt32ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varint32 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varint32 type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varint32</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarInt64ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt64ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarInt64ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varint64 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarInt64ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt64ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varint64 type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varint64 type value.</span>
<span class="sd">        :returns: Length of given Zserio varint64 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varint64</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarInt64ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt64ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varint64 type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio varint64 type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varint64 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarInt64ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarInt64ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt64ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varint64 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read varint64 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varint64</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarInt64ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarInt64ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varint64 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varint64 type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varint64</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="VarIntArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarIntArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">VarIntArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio varint type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_int_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="VarIntArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarIntArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio varint type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio varint type value.</span>
<span class="sd">        :returns: Length of given Zserio varint type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_varint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarIntArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarIntArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio varint type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio varint type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio varint type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">VarIntArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarIntArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarIntArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio varint type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read varint value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_varint</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarIntArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.VarIntArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio varint type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio varint type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_varint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Float16ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float16ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">Float16ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio float16 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_float32_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="Float16ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float16ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio float16 type stored in the bit stream in bits.</span>

<span class="sd">        :returns: Length of Zserio float16 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="mi">16</span></div>

<div class="viewcode-block" id="Float16ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float16ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">_value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio float16 type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param _value: Not used.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio float16 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">Float16ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span></div>

<div class="viewcode-block" id="Float16ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float16ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio float16 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_float16</span><span class="p">()</span></div>

<div class="viewcode-block" id="Float16ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float16ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio float16 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio float16 type to write.</span>
<span class="sd">        :returns: Read float16 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_float16</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Float32ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float32ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">Float32ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio float32 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_float32_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="Float32ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float32ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio float32 type stored in the bit stream in bits.</span>

<span class="sd">        :returns: Length of Zserio float32 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="mi">32</span></div>

<div class="viewcode-block" id="Float32ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float32ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">_value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio float32 type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param _value: Not used.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio float32 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">Float32ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span></div>

<div class="viewcode-block" id="Float32ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float32ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio float32 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read float32 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_float32</span><span class="p">()</span></div>

<div class="viewcode-block" id="Float32ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float32ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio float32 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio float32 type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_float32</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Float64ArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float64ArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">Float64ArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio float64 type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_float64_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="Float64ArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float64ArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio float64 type stored in the bit stream in bits.</span>

<span class="sd">        :returns: Length of Zserio float64 type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="mi">64</span></div>

<div class="viewcode-block" id="Float64ArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float64ArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">_value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio float64 type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param _value: Not used.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio float64 type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">Float64ArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span></div>

<div class="viewcode-block" id="Float64ArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float64ArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio float64 type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read float64 value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_float64</span><span class="p">()</span></div>

<div class="viewcode-block" id="Float64ArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.Float64ArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio float64 type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio float64 type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_float64</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="BytesArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BytesArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">BytesArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio bytes type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_bytes_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="BytesArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BytesArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio bytes type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio bytes type value.</span>
<span class="sd">        :returns: Length of given Zserio bytes type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_bytes</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BytesArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BytesArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio bytes type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio bytes type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio bytes type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">BytesArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BytesArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BytesArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytearray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio bytes type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read bytes value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span></div>

<div class="viewcode-block" id="BytesArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BytesArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio bytes type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio bytes type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="StringArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.StringArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">StringArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio string type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_string_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="StringArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.StringArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio string type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio string type value.</span>
<span class="sd">        :returns: Length of given Zserio string type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_string</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="StringArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.StringArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio string type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio string type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio string type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">StringArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="StringArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.StringArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio string type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read string value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_string</span><span class="p">()</span></div>

<div class="viewcode-block" id="StringArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.StringArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio string type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio string type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_string</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="BoolArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BoolArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">BoolArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio bool type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_bool_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="BoolArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BoolArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio bool type stored in the bit stream in bits.</span>

<span class="sd">        :returns: Length of Zserio bool type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="BoolArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BoolArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">_value</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio bool type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param _value: Not used.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio bool type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">BoolArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">()</span></div>

<div class="viewcode-block" id="BoolArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BoolArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio bool type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read bool value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_bool</span><span class="p">()</span></div>

<div class="viewcode-block" id="BoolArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BoolArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio bool type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio bool type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_bool</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="BitBufferArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitBufferArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">BitBufferArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio extern bit buffer type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_object_array</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: PackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">PackedArrayTraits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="BitBufferArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitBufferArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">BitBuffer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio extern bit buffer type stored in the bit stream in bits.</span>

<span class="sd">        :param value: Zserio extern bit buffer type value.</span>
<span class="sd">        :returns: Length of given Zserio string type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitsizeof_bitbuffer</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BitBufferArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitBufferArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">BitBuffer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for Zserio extern bit buffer type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio extern bit buffer type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after Zserio extern bit buffer type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">bitposition</span> <span class="o">+</span> <span class="n">BitBufferArrayTraits</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BitBufferArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitBufferArrayTraits.read">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BitBuffer</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio extern bit buffer type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :returns: Read bit buffer value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_bitbuffer</span><span class="p">()</span></div>

<div class="viewcode-block" id="BitBufferArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.BitBufferArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">BitBuffer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio extern bit buffer type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio extern bit buffer type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write_bitbuffer</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="ObjectArrayTraits"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectArrayTraits">[docs]</a><span class="k">class</span> <span class="nc">ObjectArrayTraits</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Array traits for Zserio structure, choice, union and enum types.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">HAS_BITSIZEOF_CONSTANT</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">NEEDS_BITSIZEOF_POSITION</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">NEEDS_READ_INDEX</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">CALC_HASHCODE_FUNC</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">calc_hashcode_object_array</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_creator</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BitStreamReader</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
                 <span class="n">packed_object_creator</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">PackingContextNode</span><span class="p">,</span> <span class="n">BitStreamReader</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
                                                         <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
                 <span class="n">packing_context_creator</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">PackingContextNode</span><span class="p">],</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor.</span>

<span class="sd">        :param object_creator: Creator which creates object from the element index.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_object_creator</span> <span class="o">=</span> <span class="n">object_creator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_packed_traits</span> <span class="o">=</span> <span class="n">ObjectPackedArrayTraits</span><span class="p">(</span><span class="n">packed_object_creator</span><span class="p">,</span> <span class="n">packing_context_creator</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">packed_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ObjectPackedArrayTraits</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets packed array traits.</span>

<span class="sd">        :returns: ObjectPackedArrayTraits instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_packed_traits</span>

<div class="viewcode-block" id="ObjectArrayTraits.bitsizeof"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectArrayTraits.bitsizeof">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">bitsizeof</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns length of Zserio object type stored in the bit stream in bits.</span>

<span class="sd">        :param bitposition: Current bit position in bit stream.</span>
<span class="sd">        :param value: Zserio object type value.</span>
<span class="sd">        :returns: Length of given Zserio object type in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">bitsizeof</span><span class="p">(</span><span class="n">bitposition</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObjectArrayTraits.initialize_offsets"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectArrayTraits.initialize_offsets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes indexed offsets for the Zserio object type.</span>

<span class="sd">        :param bitposition: Current bit stream position.</span>
<span class="sd">        :param value: Zserio object type value.</span>
<span class="sd">        :returns: Updated bit stream position which points to the first bit after the Zserio object type.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">initialize_offsets</span><span class="p">(</span><span class="n">bitposition</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObjectArrayTraits.read"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectArrayTraits.read">[docs]</a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">:</span> <span class="n">BitStreamReader</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads Zserio object type from the bit stream.</span>

<span class="sd">        :param reader: Bit stream from which to read.</span>
<span class="sd">        :param index: Element index in the array.</span>
<span class="sd">        :returns: Read object.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_creator</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span></div>

<div class="viewcode-block" id="ObjectArrayTraits.write"><a class="viewcode-back" href="../../zserio.array.html#zserio.array.ObjectArrayTraits.write">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">writer</span><span class="p">:</span> <span class="n">BitStreamWriter</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes Zserio object type to the bit stream.</span>

<span class="sd">        :param writer: Bit stream where to write.</span>
<span class="sd">        :param value: Zserio object type to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span></div></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/Zserio.png" alt="Logo"/>
            </a></p><h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zserio.html">zserio package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../zserio.html#zserio.VERSION_STRING"><code class="docutils literal notranslate"><span class="pre">VERSION_STRING</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zserio.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.array.html">zserio.array module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.bitbuffer.html">zserio.bitbuffer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.bitfield.html">zserio.bitfield module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.bitposition.html">zserio.bitposition module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.bitreader.html">zserio.bitreader module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.bitsizeof.html">zserio.bitsizeof module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.bitwriter.html">zserio.bitwriter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.builtin.html">zserio.builtin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.cppbind.html">zserio.cppbind module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.creator.html">zserio.creator module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.debugstring.html">zserio.debugstring module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.exception.html">zserio.exception module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.float.html">zserio.float module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.hashcode.html">zserio.hashcode module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.json.html">zserio.json module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.limits.html">zserio.limits module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.pubsub.html">zserio.pubsub module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.serialization.html">zserio.serialization module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.service.html">zserio.service module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.typeinfo.html">zserio.typeinfo module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../zserio.walker.html">zserio.walker module</a></li>
</ul>
</li>
</ul>
</li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Copyright (c) 2018-2022, Navigation Data Standard e.v..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>