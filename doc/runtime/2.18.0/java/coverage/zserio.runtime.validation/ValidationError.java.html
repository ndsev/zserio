<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ValidationError.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Zserio Java Runtime Library</a> &gt; <a href="index.source.html" class="el_package">zserio.runtime.validation</a> &gt; <span class="el_source">ValidationError.java</span></div><h1>ValidationError.java</h1><pre class="source lang-java linenums">package zserio.runtime.validation;

import java.util.Arrays;
import java.util.List;

/**
 * Describes validation error which is reported from validation code generated by Zserio.
 */
public final class ValidationError
{
    /**
     * Defines type of validation error.
     */
<span class="nc" id="L14">    public enum Type</span>
    {
        /**
         * The column type in SQL table is different from definition in zserio.
         */
<span class="nc" id="L19">        INVALID_COLUMN_TYPE,</span>

        /**
         * The column constraint in SQL table is different from definition in zserio.
         */
<span class="nc" id="L24">        INVALID_COLUMN_CONSTRAINT,</span>

        /**
         * The column is defined in zserio but it is not in SQL table.
         */
<span class="nc" id="L29">        COLUMN_MISSING,</span>

        /**
         * The column is not defined in zserio but it is in SQL table.
         */
<span class="nc" id="L34">        COLUMN_SUPERFLUOUS,</span>

        /**
         * Value in SQL table is out of range according to the definition in zserio.
         */
<span class="nc" id="L39">        VALUE_OUT_OF_RANGE,</span>

        /**
         * Enumeration value in SQL table is invalid according to the definition in zserio.
         */
<span class="nc" id="L44">        INVALID_ENUM_VALUE,</span>

        /**
         * Parsing of read blob from SQL table failed.
         */
<span class="nc" id="L49">        BLOB_PARSE_FAILED,</span>

        /**
         * Comparing of read blob from SQL table to parsed blob written in bit stream failed.
         */
<span class="nc" id="L54">        BLOB_COMPARE_FAILED</span>
    }

    /**
     * Constructs a new validation error without primary key values.
     *
     * @param tableName Table name where validation error occured.
     * @param fieldName Name of table column where validation error occured.
     * @param type      Validation error type.
     * @param message   Validation error message.
     */
    public ValidationError(String tableName, String fieldName, Type type, String message)
    {
<span class="nc" id="L67">        this(tableName, fieldName, null, type, message);</span>
<span class="nc" id="L68">    }</span>

    /**
     * Constructs a new validation error with primary key values and with error message.
     *
     * @param tableName    Table name where validation error occured.
     * @param fieldName    Name of table column where validation error occured.
     * @param rowKeyValues List of primary key values to identify row where validation error occured.
     * @param type         Validation error type.
     * @param message      Validation error message.
     */
    public ValidationError(
            String tableName, String fieldName, List&lt;String&gt; rowKeyValues, Type type, String message)
<span class="nc" id="L81">    {</span>
<span class="nc" id="L82">        this.tableName = tableName;</span>
<span class="nc" id="L83">        this.fieldName = fieldName;</span>
<span class="nc" id="L84">        this.rowKeyValues = rowKeyValues;</span>
<span class="nc" id="L85">        this.type = type;</span>
<span class="nc" id="L86">        this.message = message;</span>
<span class="nc" id="L87">        this.stackTrace = Thread.currentThread().getStackTrace();</span>
<span class="nc" id="L88">    }</span>

    /**
     * Constructs a new validation error with primary key values and with exception.
     *
     * @param tableName    Table name where validation error occured.
     * @param fieldName    Name of table column where validation error occured.
     * @param rowKeyValues List of primary key values to identify row where validation error occured.
     * @param type         Validation error type.
     * @param exception    Exception which occured during validation.
     */
    public ValidationError(
            String tableName, String fieldName, List&lt;String&gt; rowKeyValues, Type type, Throwable exception)
<span class="nc" id="L101">    {</span>
<span class="nc" id="L102">        this.tableName = tableName;</span>
<span class="nc" id="L103">        this.fieldName = fieldName;</span>
<span class="nc" id="L104">        this.rowKeyValues = rowKeyValues;</span>
<span class="nc" id="L105">        this.type = type;</span>
<span class="nc" id="L106">        this.message = exception.getMessage();</span>
<span class="nc" id="L107">        this.stackTrace = exception.getStackTrace();</span>
<span class="nc" id="L108">    }</span>

    /**
     * Gets the table name where this validation error occured.
     *
     * @return Name of table where this validation error occured.
     */
    public String getTableName()
    {
<span class="nc" id="L117">        return tableName;</span>
    }

    /**
     * Gets the table column name where this validation error occured.
     *
     * @return Name of table column where this validation error occured.
     */
    public String getFieldName()
    {
<span class="nc" id="L127">        return fieldName;</span>
    }

    /**
     * Gets the primary key values which identify table row where this validation error occured.
     *
     * @return List of primary key values which identify table row or null if validation error is connected to
     * column.
     */
    public List&lt;String&gt; getRowKeyValues()
    {
<span class="nc" id="L138">        return rowKeyValues;</span>
    }

    /**
     * Gets the validation error type.
     *
     * @return Type of this validation error.
     */
    public Type getType()
    {
<span class="nc" id="L148">        return type;</span>
    }

    /**
     * Gets the validation error message.
     *
     * @return Message of this validation error.
     */
    public String getMessage()
    {
<span class="nc" id="L158">        return message;</span>
    }

    /**
     * Gets the stack trace.
     *
     * @return Stack trace for this validation error.
     */
    public StackTraceElement[] getStackTrace()
    {
<span class="nc" id="L168">        return Arrays.copyOf(stackTrace, stackTrace.length);</span>
    }

    private final String tableName;
    private final String fieldName;
    private final List&lt;String&gt; rowKeyValues;
    private final Type type;
    private final String message;
    private final StackTraceElement[] stackTrace;
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>